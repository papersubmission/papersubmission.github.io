<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="How Smelly is the Refactored Code? A Study of 50 Projects">
    <meta name="author" content="ICPCSUBMISSION">

    <title>How Smelly is the Refactored Code? A Study of 50 Projects</title>

    <!-- Bootstrap core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="grid.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="design.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" href="bower_components/highlightjs/styles/xcode.css">
    <script src="bower_components/highlightjs/highlight.pack.min.js"></script>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>

    <style type="text/css">
        pre {
            border: none;
            background: #ffffff;
            padding: 0px;
        }

        .col-md-6 {
            background: #ffffff;
            border: none;
            padding-bottom: 0px;
        }

        body {
            padding-top: 70px;
            position: relative;
        }
    </style>

    <script type="text/javascript">
        $(document).ready(function() {
            $('body').scrollspy({
                target: '#mainNavBar'
            })
        });
    </script>
</head>

<body>
    <nav id="mainNavBar" class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6">
                <ul class="nav navbar-nav">
                    <li><a href="#abstract">Abstract</a></li>
                    <li><a href="#scenarios">Study Design</a></li>
                    <li><a href="#sd">Analysis of the Results</a></li>
                    <li><a href="#download">Download</a></li>
                    <li><a href="#references">References</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
    </nav>


    <div class="container">

        <div class="page-header" id="title">
            <h1>How Smelly is the Refactored Code?<br/>
            <small> A Study of 50 Projects </small></h1>
        </div>

        This web page presents the supplementary material of the paper <i>How Smelly is the Refactored Code? A Study of 50 Projects </i>. <br>
        Following sections present the complementary information regarding the paper:

        <h3 class="page-header" id="abstract">Abstract</h3>

        <p class="text-justify">
          Refactoring is a common practice employed by practitioners along software evolution. Smells can be used as indicators of the need for refactoring. However, the decision on when to refactor is not so cut-and-dried. Software developers are expected to refactor the source code as soon as it smells, i.e. when there is an initial sign of structural degradation. On the other hand, developers might decide to postpone refactoring until when code elements are highly degraded. In other words, different stages of degradation may lead developers to refactor. Unfortunately, there is not much understanding of how often refactorings are applied on these stages of degradation. In our study, we analyzed the frequency of refactorings on modules representing different levels of structural degradation. Different from other studies, we have empirically investigated 50 projects taking into account different stages of degradation. Our results indicate that developers tend to apply refactoring in elements with different degradation stages. Nevertheless, refactorings were most frequently applied when code manifested the worst stage of degradation.

            </p>

    </div>
    <!-- /container -->

    <div class="container">

        <h3 class="page-header" id="scenarios">Definitions</h3>

            Some Definitions...

        <h4><u>Code Semells</u></h4>

        <p class="text-justify">
           Code Smells definition and types...
        <p>
        <table class="tg">
            <caption>
                Types and Definitions 
            </caption>
            <tr>
                <th class="tg-be9c">Type</th>
                <th class="tg-xpce">Description</th>
            </tr>
            <tr>
                <td class="tg-yzt1">Brain Class/God class</td>
                <td class="tg-uqo3">Long and complex class that centralizes the intelligence of the system</td>
            </tr>
            <tr>
                <td class="tg-yzt1">Brain Method</td>
                <td class="tg-uqo3">Long and complex method that centralizes the intelligence of a class</td>
            </tr>
            <tr>
                <td class="tg-yzt1">Class Data Should Be Private</td>
                <td class="tg-uqo3">A class exposing its fields, violating the principle of data hiding.</td>
            </tr>
            <tr>
                <td class="tg-yzt1">Dispersed Coupling</td>
                <td class="tg-uqo3">A method accesses many code elements, and the accessed code elements are dispersed among many classes</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">A method is more interested in a class other than the one it actually is in</td>
            </tr>
            <tr>
                <td class="tg-yzt1">God Class</td>
                <td class="tg-uqo3">When a class centralizes the system functionalities</td>
            </tr>
            <tr>
                <td class="tg-yzt1">Intensive Coupling</td>
                <td class="tg-uqo3">A method that has tight coupling with other methods, and these coupled methods are defined in the context of few classes</td>
            </tr>
            <tr>
                <td class="tg-yzt1">Lazy Class</td>
                <td class="tg-uqo3">A class having very small dimension, few methods and with low complexity</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
            <tr>
                <td class="tg-yzt1">FeatureEnv</td>
                <td class="tg-uqo3">Description</td>
            </tr>
        
           
        </table>

        <br>
      
              <h4><u>Refactorings Types</u></h4>
              <p text="text-justify"> According to Fowler et al. [1], code smells can be resolvedthrough  the  application  of  refactorings,  i.e.,  transformationsthat  improve  software  quality  but  do  not  alter  the  externalbehavior  of  the  software.  The  Fowlerâ€™s  catalog  [2]  defines72 types of refactorings. These refactorings aim to deal withdifferent antipatterns in the source code.</p>

        <style type="text/css">
        .tg  {border-collapse:collapse;border-spacing:0;}
        .tg td{font-family:Arial, sans-serif;font-size:14px;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
        .tg th{font-family:Arial, sans-serif;font-size:14px;font-weight:normal;padding:10px 5px;border-style:solid;border-width:1px;overflow:hidden;word-break:normal;}
        .tg .tg-kqkn{font-weight:bold;background-color:#67fd9a;text-align:center}
        .tg .tg-j4kc{background-color:#efefef;text-align:center}
        .tg .tg-bsv2{background-color:#efefef}
        </style>
        <table class="tg" style="undefined;table-layout: fixed; width: 648px">
            <caption>
                Table II. Description of the Refactoring Types.
            </caption>
            <colgroup>
            <col style="width: 142px">
            <col style="width: 506px">
            </colgroup>
            <tr>
               <th class="tg-xpce">Type</th>
                <th class="tg-xpce">Description</th>

            </tr>
             <tr>
                <td class="tg-j4kc">Extract Interface</td>
                <td class="tg-bsv2">Several clients use the same subset of a class's interface, or two classes have part of their interfaces in common.</td>
            </tr>
             <tr>
                <td class="tg-j4kc">Extract Method</td>
                <td class="tg-bsv2">A code fragment that can be grouped together. Transforms the fragment into a method whose name explains the purpose of the method.</td>
            </tr>
             <tr>
                <td class="tg-j4kc">Extract Superclass</td>
                <td class="tg-bsv2"></td>
            </tr>
             <tr>
                <td class="tg-j4kc">Inline Method </td>
                <td class="tg-bsv2"></td>
            </tr>
             <tr>
                <td class="tg-j4kc">Move Attribute</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Move Class</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Move Method</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Pull Up Attribute</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Pull Up Method</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Push Down Attribute</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Push Down Method</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Rename Class</td>
                <td class="tg-bsv2"></td>
            </tr>
            <tr>
                <td class="tg-j4kc">Rename Method</td>
                <td class="tg-bsv2"></td>
            </tr>
            

           
           
        </table>


        <p>

        <!-- <p class="text-justify">
            The second scenario comprises developers assigned to identify design problems in systems with which they are unfamiliar, i.e., systems that they did not implement.
            In order to select developers for this scenario, we recruited a set of developers, and we asked them to answer a questionnaire. The goal was to determine which of
            them were eligible for the study. The questionnaire covers information to characterize the developers about their education level and knowledge of Java programming
            and code smells. In order to select a developer for the study, he would need to meet some requirements.Thus, we analyzed their answers based on the following requirements:

            <ol>

                <li>R1. Four years or more of experience with software development and maintenance. We have chosen four years because this is the average time used by companies such
                    as Yahoo <a href="#yahoo">(Yahoo, 2016)</a> and Twitter <a href="#twitter">(Twitter, 2016)</a> to classify a developer as experienced.</li>

                <li>R2. No previous knowledge about S6 and S7.</li>

                <li>R3. At least basic knowledge about code smells.</li>

                <li>R4. At least intermediary knowledge on Java programming. </li>

            </ol>

        </p>

        <p class="text-justify">
            We included in the questionnaire a description of our definition of knowledge level, thereby allowing developers to have a similar interpretation of the possible answers.
            Table III presents the definition of knowledge level that developers received.
        </p>

        <table class="tg">
            <caption>
            Table III. Knowledge classification
            </caption>
                <tr>
                    <th class="tg-be9c">Classification</th>
                    <th class="tg-be9c">Description</th>
                </tr>
                <tr>
                    <td class="tg-yzt1">None</td>
                    <td class="tg-yzt1">I have never heard about it</td>
                </tr>
                <tr>
                    <td class="tg-yzt1">Minimum</td>
                    <td class="tg-yzt1">I have heard about it, but I do not use it</td>
                </tr>
                <tr>
                    <td class="tg-yzt1">Basic</td>
                    <td class="tg-yzt1">I have a general understanding, but I almost never use it</td>
                </tr>
                <tr>
                    <td class="tg-yzt1">Intermediary</td>
                    <td class="tg-yzt1">I have a good understanding, and I use basic features sometimes</td>
                </tr>
                <tr>
                    <td class="tg-yzt1">Advanced</td>
                    <td class="tg-yzt1">I have a deep understanding, and I often use advanced features</td>
                </tr>
                <tr>
                    <td class="tg-yzt1">Expert</td>
                    <td class="tg-yzt1">I am a specialist in this topic, and I use many features almost every day</td>
                </tr>
        </table>

        <br>
        <p class="text-justify">
            We selected two systems from the <a href="http://oodt.apache.org/" target="_blank">Apache OODT</a> project (Push Pull and Workflow Manager), and we asked developers of Group 2 to identify design problems in these systems. We selected these systems because they have a well-defined set of design problems identified by developers who actually implemented the systems. We gave them a document containing: (i) a brief description of Push Pull (S6) and Workflow Manager (S7), and (ii) a very high level description of their design blueprint. We gave them these documents because when they have to maintain unfamiliar systems, they need to have some minimal information about the systems to be maintained. We used the same document provided in the OODT project. Document with the description of both systems can be downloaded at <a href="download/oodtdoc.zip">here</a>. A full description of the Push Pull and Working Manager as well as other OODT systems can be downloaded at <a href="http://oodt.apache.org/site_docs/oodt/index.html" target="_blank">OODT website</a>.</br>
        </p>
     -->
</div>


    <div class="container">

        <h3 class="page-header" id="sd">Study Design</h3>

        <p class="text-justify>">
            Put text

        </p>

        <h4><u>Study Design</u></h4>

        <p class="text-justify">
            Put Text

        <!-- </p>
        <ul>
            <li><strong>Ambiguous Interface:</strong> Interface of a design component that offers only a general, ambiguous entry-point that provides non-cohesive services, thereby complicating the clients' logic.</li>

            <li><strong>Component Overload:</strong> Design components that fulfill too many responsibilities.</li>

            <li><strong>Cyclic Dependency:</strong> Two or more design components that directly or indirectly depend on each other.</li>

            <li><strong>Delegating Abstraction:</strong> An abstraction that exists only for passing messages from one abstraction to another.</li>

            <li><strong>Fat Interface:</strong> Interface that is overloaded with many clients accessing it. That is, an interface with "too many clients".</li>

            <li><strong>Scattered Concern:</strong> Multiple components that are responsible for realizing a crosscutting concern.</li>

            <li><strong>Unused Abstraction:</strong> Design abstraction that is either unreachable or  never used in the system.</li>

            <li><strong>Unwanted Dependency:</strong> Dependency that violates an intended design rule.</li>

        </ul>

        <h4><u>Code Smells</u></h4>

        <p class="text-justify">
            A code smell is a structure in the implementation of the program that possibly indicates a design problem <a href="#fowler">(Fowler, 1999)</a>. In this study, we have focus on 15 types of code smells. We present the definition of the code smells following:

        </p>

        <ul>
            <li><strong>Blob Class:</strong> Long and complex class that centralizes the intelligence of the system.</li>

            <li><strong>Class Data Should Be Private:</strong> A class exposing its fields, violating the principle of data hiding.</li>

            <li><strong>Complex Class:</strong> A class having at least one method having a high cyclomatic complexity.</li>

            <li><strong>Data Class:</strong> A class has this code smell when it has only fields, getting and setting methods for the fields, and nothing else. The aim is to hold data and, consequently, be manipulated by other classes.</li>

            <li><strong>Divergent Change:</strong> This code smell occurs when one class is commonly changed in different ways for different reasons.</li>

            <li><strong>Feature Envy:</strong> Feature envy occurs in a class when the method of that class seems more interested in a class other than the one it actually belongs.</li>

            <li><strong>God Class:</strong> This code smell occurs when the class centralizes more the one functionality, realizing more than one purpose.</li>

            <li><strong>Lazy Class: A class having very small dimension, few methods and with low complexity.</strong> </li>

            <li><strong>Long Method:</strong> This code smell occurs when a method has grown too large, containing too many lines of code.</li>

            <li><strong>Long Parameter List:</strong> This code smell occurs in a method that has a long list of parameters, in which makes readability and code quality worse.</li>

            <li><strong>Message Chain:</strong> A long chain of method invocations is performed to implement a class functionality.</li>
            <li><strong>Refused Bequest:</strong> A subclass that uses only some of the methods and properties inherited from its parents.</li>

            <li><strong>Shotgun Surgery:</strong> This code smell is the opposite of Divergent Change. It happens when every time a kind of change is made in the code, that change triggers many little changes in many different classes.</li>

            <li><strong>Spaghetti Code:</strong> A class implementing complex methods interacting with them, with no parameters, using global variables.</li>

            <li><strong>Speculative Generality:</strong> A class declared as abstract having very few children classes that use its methods.</li>

        </ul>

    </div>

  -->
    <div class="container">

        <h3 class="page-header" id="download">Download</h3>

        <p class="text-justify">
            Following we present the main artifacts used in the study. 
        </p>

        <table class="tg">
            <caption>
                Table IV. Link to donwload the artifacts used in the study
            </caption>
            <tr>
                <th class="tg-be9c">Artifact</th>
            </tr>
            <tr>
                <td class="tg-yzt1"><a href="" target="_blank">Data Set</a></td>
            </tr>
            <tr>
                <td class="tg-yzt1"><a href="" target="_blank">Follow-up</a></td>
            </tr>
            <tr>
                <td class="tg-yzt1"><a href="download/PushPull-OODT.pdf" target="_blank">PushuPull description</a></td>
            </tr>
            <tr>
                <td class="tg-yzt1"><a href="download/Workflow-OODT.pdf" target="_blank">Workflow Manager description</a></td>
            </tr>
            <tr>
                <td class="tg-yzt1"><a href="download/guide.pdf" target="_blank">Some link</a></td>
            </tr>
            <tr>
                <td class="tg-yzt1"><a href="download/paper.pdf" target="_blank">Submitted Paper</a></td>
            </tr>

        </table>

    </div>

    <div class="container">
        <h3 class="page-header" id="references">References</h3>

		<p>
		<ol>
      Some references...
            <!-- <li id="trifu">A. Trifu and U. Reupke, <i>Towards automated restructuring of object oriented systems</i> in Proceedings of the 11th European Conference on Software Maintenance and Reengineering, 2007.</li>
            <li id="bar">H. BÃ¤r and O. Ciupke, <i>Exploiting design heuristics for automatic problem detection</i> in Workshop Ion on Object-Oriented Technology, 1998.</li>
            <li id="twitter">Twitter. <i>Working at Twitter"</i>. Available at <a href="https://about.twitter.com/careers" target="_blank">https://about.twitter.com/careers</a></li>
            <li id="yahoo">Yahoo!. <i>Explore Career Opportunities"</i>. Available at <a href="https://careers.yahoo.com/us/buildyourcareer" target="_blank">https://careers.yahoo.com/us/buildyourcareer</a></li>
            <li id="fowler">M. Fowler. <i>Refactoring: Improving the Design of Existing Code.</i> Addison-Wesley, Boston, MA, USA, 1999.</li>
			<li id="suryanarayana">G. Suryanarayana, G. Samarthyam, and T. Sharma. <i>Refactoring for Software Design Smells: Managing Technical Debt</i>. Morgan Kaufmann, 2014.</li> -->

    </div>


</body>

</html>
